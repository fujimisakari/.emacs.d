#!/bin/bash

/usr/bin/tidy -utf8 --new-blocklevel-tags table,section,article,aside,hgroup,header,footer,nav,figure,figcaption,video,audio,canvas $1 2>&1 | egrep -v "missing <!DOCTYPE> declaration|allowed in <head> elements|inserting missing 'title' element|adjacent hyphens within comment|escaping malformed URI reference|plain text isn't allowed in <tr> elements|<img> lacks \"alt\" attribute|unescaped & or unknown entity \"&body\"|<table> lacks \"summary\" attribute|<style> isn't allowed in <body> elements|<style> inserting \"type\" attribute|<link> isn't allowed in <body> elements|&mobile_url|&touch_url|&backto_url|&list_type|&title|&mobile_image|&to_user_id|&editable|<a> attribute with missing trailing quote mark|<a> proprietary attribute \"editable\"|<a> attribute \"{%\" lacks value|<a> attribute \"%}\" lacks value|<a> proprietary attribute \"accesskey_5_first\"|plain text isn't allowed in <table> elements|<img> attribute \"height\" has invalid value \"auto\"|\"{%\"|\"%}\"|<table> unexpected or duplicate quote mark|<table> proprietary attribute \"cycle\"|discarding unexpected plain text|<section> is not approved by W3C|missing </a> before <div>|attribute \"width\" has invalid value|<img> proprietary attribute \"data-gree-src\"|<img> lacks \"src\" attribute|<blink> is not approved by W3C|<img> attribute \"height\" has invalid value|attribute \"height\" has invalid value|&image_urls_240|<button> proprietary attribute \"data-dismiss\"|<button> proprietary attribute \"data-dismiss\"|<label> dropping value \"control-label\" for repeated attribute \"class\"|<input> proprietary attribute \"autocomplete\"|<input> proprietary attribute \"autocomplete\"|<a> proprietary attribute \"data-toggle\"|<input> proprietary attribute \"placeholder\"|trimming empty <b>|trimming empty <li>|<a> proprietary attribute \"data-dismiss\"|<link> element not empty or not closed|<link> inserting \"type\" attribute|<meta> proprietary attribute \"charset\"|<header> is not approved by W3C|<footer> is not approved by W3C|<div> attribute \"id\" has invalid value \"column-{{ forloop.counter }}\"|<div> attribute \"id\" has invalid value \"item-{{ category.id }}\"|<h2> attribute \"id\" has invalid value \"h2-{{ category.id }}\"|trimming empty <i>|trimming empty <span>|<script> inserting \"type\" attribute|<form> lacks \"action\" attribute"
